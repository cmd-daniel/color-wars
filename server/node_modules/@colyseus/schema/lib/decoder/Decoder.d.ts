import { TypeContext } from "@colyseus/schema/lib/types/TypeContext";
import { Schema } from "@colyseus/schema/lib/Schema";
import type { Ref } from "@colyseus/schema/lib/encoder/ChangeTree";
import type { Iterator } from "@colyseus/schema/lib/encoding/decode";
import { ReferenceTracker } from "@colyseus/schema/lib/decoder/ReferenceTracker";
import { type DataChange } from "@colyseus/schema/lib/decoder/DecodeOperation";
import { Collection } from "@colyseus/schema/lib/types/HelperTypes";
export declare class Decoder<T extends Schema = any> {
    context: TypeContext;
    state: T;
    root: ReferenceTracker;
    currentRefId: number;
    triggerChanges?: (allChanges: DataChange[]) => void;
    constructor(root: T, context?: TypeContext);
    protected setState(root: T): void;
    decode(bytes: Buffer, it?: Iterator, ref?: Ref): DataChange<any, string>[];
    skipCurrentStructure(bytes: Buffer, it: Iterator, totalBytes: number): void;
    getInstanceType(bytes: Buffer, it: Iterator, defaultType: typeof Schema): typeof Schema;
    createInstanceOfType(type: typeof Schema): Schema;
    removeChildRefs(ref: Collection, allChanges: DataChange[]): void;
}
